<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Numberfour AG">
<title>AsciiSpec Specification</title>
<link rel="stylesheet" href="styles/foundation.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<!-- ************* Meta ************* -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<!-- ************* OpenGraph ************-->
<meta name="description" content="AsciiSpec">

<!-- ************* Back-to-top JQuery ************* -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
<script src="scripts/nav-mobile.js"></script>

<!-- ******** Stylesheet ******-->
<script src="styles/foundation.css"></script>

<!-- ******** Prism.js Syntax Highlighter ******-->
<script src="scripts/prism.js"></script>
<link href="styles/prism.css" rel="stylesheet" />

<!-- ******** MathJax CDN ******-->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!-- ****************** NavBar ****************** -->
<div id="menubar">
    <div class="banner">
      <a href="index.html"><img src="images/logo.png" alt="AsciiSpec"></a>
    </div>
<ul class="fa-ul">
	<li><a href="index.pdf"><i class="fa fa-file-pdf-o"></i>Download as PDF</a></li>
	<li><a href="userguide.html">AsciiSpec Userguide</a></li>
</ul>
</div>
<button id="tocbutton"><i class="fa fa-bars" aria-hidden="true"></i>TOC</button>
<!-- ****************** Mobile NavBar ****************** -->
<div class="mobile-navbar">
<ul id="menu">
	<li><a href="index.pdf"><i class="fa fa-file-pdf-o"></i>Download as PDF</a></li>
</ul>
</div>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>AsciiSpec Specification</h1>
<div class="details">
<span id="author" class="author">Numberfour AG</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_definition_block_documentation">1. Definition Block Documentation</a></li>
<li><a href="#_requirements_block">2. Requirements Block</a>
<ul class="sectlevel2">
<li><a href="#_id_pattern">2.1. ID Pattern</a></li>
</ul>
</li>
<li><a href="#_inline_task_macro">3. Inline Task Macro</a>
<ul class="sectlevel2">
<li><a href="#_url_pattern">3.1. URL Pattern</a></li>
<li><a href="#_examples">3.2. Examples</a></li>
</ul>
</li>
<li><a href="#_inline_bibtex_macro">4. Inline BibTex Macro</a>
<ul class="sectlevel2">
<li><a href="#_configuration">4.1. Configuration</a></li>
</ul>
</li>
<li><a href="#_inline_cwiki_macro">5. Inline Cwiki Macro</a>
<ul class="sectlevel2">
<li><a href="#_url_pattern_2">5.1. URL Pattern</a></li>
</ul>
</li>
<li><a href="#_inline_math_code_math_code_macro">6. Inline Math (<code>math</code>) Macro</a>
<ul class="sectlevel2">
<li><a href="#_configuration_2">6.1. Configuration</a></li>
</ul>
</li>
<li><a href="#_math_block_documentation">7. Math Block Documentation</a>
<ul class="sectlevel2">
<li><a href="#_example">7.1. Example</a></li>
</ul>
</li>
<li><a href="#_math_include_documentation">8. Math Include Documentation</a></li>
<li><a href="#_inline_source_link_code_srclnk_code_macro">9. Inline Source Link (<code>srclnk</code>) Macro</a>
<ul class="sectlevel2">
<li><a href="#_configuration_3">9.1. Configuration</a>
<ul class="sectlevel3">
<li><a href="#_generated_documentation_directory">9.1.1. Generated Documentation Directory</a></li>
<li><a href="#_repository_location">9.1.2. Repository Location</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_extended_include_macro">10. Extended Include Macro</a>
<ul class="sectlevel2">
<li><a href="#__code_find_code_include_macro">10.1. <code>{find}</code> Include Macro</a></li>
<li><a href="#__code_api_code_include_macro">10.2. <code>{api}</code> Include Macro</a></li>
<li><a href="#__code_src_code_include_macro">10.3. <code>{src}</code> Include Macro</a></li>
</ul>
</li>
<li><a href="#_generated_anchors">11. Generated Anchors</a>
<ul class="sectlevel2">
<li><a href="#_scope">11.1. Scope</a></li>
<li><a href="#_general_structure">11.2. General Structure</a></li>
<li><a href="#_special_characters">11.3. Special Characters</a></li>
</ul>
</li>
<li><a href="#PQN-def">12. Partially Qualified Names (PQNs)</a></li>
<li><a href="#_special_variables_in_asciispec">13. Special Variables in Asciispec</a>
<ul class="sectlevel2">
<li><a href="#_the_code_find_code_variable">13.1. The <code>{find}</code> Variable</a>
<ul class="sectlevel3">
<li><a href="#_introduction">13.1.1. Introduction</a></li>
<li><a href="#_usage">13.1.2. Usage</a></li>
<li><a href="#_semantics">13.1.3. Semantics</a></li>
<li><a href="#_warnings_and_errors">13.1.4. Warnings and Errors</a></li>
<li><a href="#_using_code_find_code_on_github">13.1.5. Using <code>{find}</code> on GitHub</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_bibliography_2">Appendix A: Bibliography</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The following is the specification for AsciiSpec, a toolchain based on <a href="http://asciidoctor.org/">Asciidoctor</a> with custom modifications for task management, math support, API documentation and more.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_definition_block_documentation"><a class="anchor" href="#_definition_block_documentation"></a><a class="link" href="#_definition_block_documentation">1. Definition Block Documentation</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Usage</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">.definitionTitle
[def]
--
The content of the definition
--</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>definitionTitle</strong> (required): An anchor is derived from the definition title and embedded at the beginning of the rendered output.</p>
</li>
<li>
<p><strong>delimiter</strong>: Lines containing only two hyphens <code>--</code> delimit the block. This is required if the block contains empty lines or nested formatting.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Example</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">.Definition Site Structural Typing
[def]
--
If a type T is declared as structural at its definition, _T.defStructural_ is true.

1. The structurally defined type cannot be used on the right hand side of the `instanceof`
2. A type X is a subtype of a structurally defined type T...

Furthermore...
--</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Result</dt>
</dl>
</div>
<div class="openblock definition">
<div class="content">
<div class="paragraph">
<p><a id="definition_site_structural_typing"></a><strong>Definition:</strong> <a href="#definition_site_structural_typing">Definition Site Structural Typing</a></p>
</div>
<div class="paragraph">
<p>If a type T is declared as structural at its definition, <em>T.defStructural</em> is true.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The structurally defined type cannot be used on the right hand side of the <code>instanceof</code></p>
</li>
<li>
<p>A type X is a subtype of a structurally defined type T&#8230;&#8203;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Furthermore&#8230;&#8203;</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements_block"><a class="anchor" href="#_requirements_block"></a><a class="link" href="#_requirements_block">2. Requirements Block</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Usage</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">.title
[req,id=RSL-3,version=1]
--
Contents of the requirement
--</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>title</strong> (required):  An anchor is derived from the requirement title and embedded at the beginning of the rendered output.</p>
</li>
<li>
<p><strong>ID:</strong> (required) The ID in the form <strong>&lt;Prefix&gt;-&lt;Number&gt;</strong>, used to generate an anchor</p>
</li>
<li>
<p><strong>version</strong>: (required) value is a non-negative integer.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title=""></i>
</td>
<td class="content">
Omitting any of the above attributes will print an error to the console and insert a warning text in the generated document.
* <strong>delimiter</strong>: Lines containing only two hyphens <code>--</code> delimit the block. This is required if the block contains empty lines or nested formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_id_pattern"><a class="anchor" href="#_id_pattern"></a><a class="link" href="#_id_pattern">2.1. ID Pattern</a></h3>
<div class="paragraph">
<p>The purpose of the <code>&lt;Prefix&gt;-&lt;Number&gt;</code> ID is to ensure that Requirements are both unique and easily referenceable.
Currently, the ID may be any string, but should conform to the following conventions:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>&lt;Prefix&gt;</strong>: </dt>
<dd>
<p><code>R</code> (requirement) followed by the project prefix (i.e. <code>SL</code> for <code>stdlib</code>)</p>
</dd>
<dt class="hdlist1"><strong>&lt;Number&gt;</strong>: </dt>
<dd>
<p>The requirement number, currently not validated.
A validation stage for requirement IDs (detecting duplicates, for instance) is planned.</p>
</dd>
<dt class="hdlist1">Example</dt>
<dd>
<p>The following example demonstrates how to document Requirement #3 for stdlib Version 1;</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">.This is the title
[req,id=RSL-3,version=1]
--
My Super Requirement
--</code></pre>
</div>
</div>
<div class="openblock requirement">
<div class="content">
<div class="paragraph">
<p><a id="Req-RSL-3"></a><strong>Req. RSL-3:</strong> <a href="#Req-RSL-3">This is the title</a> (ver. 1)</p>
</div>
<div class="paragraph">
<p>My Super Requirement</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inline_task_macro"><a class="anchor" href="#_inline_task_macro"></a><a class="link" href="#_inline_task_macro">3. Inline Task Macro</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Usage</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">task:target[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>inline task macro</code> creates hyperlinks to Jira task management and GitHub issue-tracking systems.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>target:</strong> The project prefix followed by a hyphen and the task number or ID (e.g. <code>AS-23</code>).</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect2 language-asciidoc">
<h3 id="_url_pattern"><a class="anchor" href="#_url_pattern"></a><a class="link" href="#_url_pattern">3.1. URL Pattern</a></h3>
<div class="paragraph">
<p>Specifying which repository to link to is done by adding a URL pattern to the
<a href="https://github.numberfour.eu/NumberFour/asciispec/blob/master/docs/userguide.adoc#configuration-file">config file</a> in the following format:</p>
</div>
<div class="paragraph">
<p><code>:task_def_&lt;Prefix&gt;: &lt;Name&gt;;&lt;Description&gt;;&lt;URL-Pattern&gt;;&lt;Icon&gt;;&lt;TextPatterns&gt;</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example: </dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">:task_def_AS-: GitHub;AsciiSpec Bugs;https://github.com/NumberFour/asciispec/issues/{TASK_ID};images/icons/github.png;AS-{TASK_ID}
:task_def_JIRA-: Jira;My Jira Board;https://jira.myorg.com/browse/JIRA-{TASK_ID};images/icons/jira.png;JIRA-{TASK_ID}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&lt;Prefix&gt;</dt>
<dd>
<p>The unique prefix by which this repository is identified (<code>AS-</code> in <code>task:AS-40[]</code>).</p>
</dd>
<dt class="hdlist1">&lt;Name&gt;</dt>
<dd>
<p>The name of the repository.</p>
</dd>
<dt class="hdlist1">&lt;Description&gt;</dt>
<dd>
<p>A description of the repository, used to generated a tooltip.</p>
</dd>
<dt class="hdlist1">&lt;URL-Pattern&gt;</dt>
<dd>
<p>The pattern to generate in the links - can contain the following placeholders:<br></p>
<div class="ulist">
<ul>
<li>
<p><strong><code>{TASK_ID}</code></strong>: The suffix of the macro target (<code>40</code> in <code>task:AS-40[]</code>).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">&lt;Icon&gt;</dt>
<dd>
<p>The relative path to an image used as an icon for the repository.</p>
</dd>
<dt class="hdlist1">&lt;Text-Pattern&gt;</dt>
<dd>
<p>The text pattern to match to inline task macros in the AsciiDoc source - can also contain the <strong><code>{TASK_ID}</code></strong> placeholder.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2 language-asciidoc">
<h3 id="_examples"><a class="anchor" href="#_examples"></a><a class="link" href="#_examples">3.2. Examples</a></h3>
<div class="dlist">
<dl>
<dt class="hdlist1">Jira Task: </dt>
</dl>
</div>
<div class="exampleblock">
<div class="content">
AsciiDoc was decided as a suitable syntax for documentation <code>task:JIRA-35[]</code>.
</div>
</div>
<div class="paragraph">
<p>AsciiDoc was decided as a suitable syntax for documentation. </p>
</div>
<div class="sidebarblock">
<div class="content">
<a href="https://jira.myorg.com/browse/JIRA-35" title="My Jira Board"><span class="image"><img src="images/icons/jira.png" alt=""></span>JIRA-35</a>
</div>
</div>
<hr>
<div class="dlist">
<dl>
<dt class="hdlist1">Github Issue: </dt>
</dl>
</div>
<div class="exampleblock">
<div class="content">
A bug has already <code>task:AS-35[]</code> been filed&#8230;&#8203;
</div>
</div>
<div class="paragraph">
<p>A bug has already been filed&#8230;&#8203; </p>
</div>
<div class="sidebarblock">
<div class="content">
<a href="https://github.com/NumberFour/asciispec/issues/35" title="AsciiSpec Bugs"><span class="image"><img src="images/icons/github.png" alt=""></span>AS-35</a>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inline_bibtex_macro"><a class="anchor" href="#_inline_bibtex_macro"></a><a class="link" href="#_inline_bibtex_macro">4. Inline BibTex Macro</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Load references from a BibTeX file.</p>
</div>
<div class="paragraph">
<p>Usage:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">cite:[ref(pages)]

bibliography::[]</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>ref</strong> (required): At least one reference must be stated e.g. <code>ECMA15a</code>. Multiple references may be added by separating with commas e.g. <code>ECMA15a,Canning89a</code>.</p>
</li>
<li>
<p><strong>pages</strong> (optional): The specific pages of a reference.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Bibliography: </dt>
<dd>
<p>The bibliography macro can be added at any part of the source document, but the convention for block macros is to have empty lines before and after as follows:</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all spread language-asciidoc">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><em>&#8230;&#8203;end of previous block</em></p>
</div>
<div class="paragraph">
<p><code>bibliography::[]</code></p>
</div>
<div class="paragraph">
<p><em>Beginning of next block&#8230;&#8203;</em></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Examples</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all spread language-asciidoc">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Source</th>
<th class="tableblock halign-center valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>:bib-file: ../biblio.bib</code></p>
</div>
<div class="paragraph">
<p>Two of my favourite books are the ECMAScript<br>
Language Specification and F-bounded<br>
polymorphism <code>cite:[ECMA15a,Canning89a]</code>.</p>
</div>
<div class="paragraph">
<p>Thanks for reading, be sure to check my biblio.</p>
</div>
<div class="paragraph">
<p><code>[appendix]</code><br>
<code>== Bibliography</code></p>
</div>
<div class="paragraph">
<p><code>bibliography::[]</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Two of my favourite books are the ECMAScript Language Specification and F-bounded polymorphism <a href="#ECMA15a">[ECMA15a]</a>; <a href="#Canning89a">[Canning89a]</a>.</p>
</div>
<div class="paragraph">
<p>Thanks for reading, be sure to read my biblio.</p>
</div>
<h3 id="_bibliography" class="discrete">Bibliography</h3>
<div class="paragraph">
<p><a id="ECMA15a"></a> ECMA. (2015). ECMAScript 2015 Language Specification. Retrieved from <a href="http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf" class="bare">http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf</a></p>
</div>
<div class="paragraph">
<p><a id="Canning89a"></a> Canning, Peter and Cook, William and Hill, Walter and Olthoff, Walter and Mitchell, John C.. (1989).
F-bounded Polymorphism for Object-oriented Programming. Retrieved from <a href="http://doi.acm.org/10.1145/99370.99392" class="bare">http://doi.acm.org/10.1145/99370.99392</a></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2 language-bash">
<h3 id="_configuration"><a class="anchor" href="#_configuration"></a><a class="link" href="#_configuration">4.1. Configuration</a></h3>
<div class="paragraph">
<p>The following line should be added to the <strong><a href="https://github.numberfour.eu/NumberFour/asciispec/blob/master/docs/examples/config.adoc">Configuration File</a></strong>:</p>
</div>
<div class="paragraph">
<p><code class="language-asciidoc">:bib-file: &lt;path&gt;</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes: </dt>
<dd>
<p><code>&lt;path&gt;</code> can be an absolute path or a path relative to the location of the adoc file being processed.
In absence of this option, or if the file denoted by <code>&lt;path&gt;</code> cannot be found, the processor will try to find a <code>.bib</code> file in the directory tree beginning at the location of the adoc file recursively.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inline_cwiki_macro"><a class="anchor" href="#_inline_cwiki_macro"></a><a class="link" href="#_inline_cwiki_macro">5. Inline Cwiki Macro</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Usage</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">cwiki:target[title="cwikiTitle"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Inline Cwiki Macro creates hyperlinks to Confluence wiki entries.
The string 'title=' and the quotation marks are optional.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>target:</strong> Used to define which Confluence URL to link to. Can be one of the following:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>pageID (e.g. <code>56885484</code>).</p>
</li>
<li>
<p>path (e.g. <code>BR/Continuous+Integration</code>).</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>cwikiTitle:</strong> (optional) The title that will be displayed as an anchor in the generated hyperlink.
If no title is declared, the <code>target</code> will be used instead.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="sect2 language-asciidoc">
<h3 id="_url_pattern_2"><a class="anchor" href="#_url_pattern_2"></a><a class="link" href="#_url_pattern_2">5.1. URL Pattern</a></h3>
<div class="paragraph">
<p>With most Confluence pages, the <strong>URL path</strong> is derived from the page title, like so:</p>
</div>
<div class="paragraph">
<p><code>confluence.numberfour.eu/display/N4/Continuous+Integration</code></p>
</div>
<div class="paragraph">
<p>Not all Confluence pages have associated paths and will otherwise have a <strong>page ID</strong> as with the following:</p>
</div>
<div class="paragraph">
<p><code>confluence.numberfour.eu/pages/viewpage.action?pageId=56885484</code></p>
</div>
<div class="paragraph">
<p>A target that contains only numbers (e.g., <code>cwiki:1234[]</code>) will be interpreted as a page ID rather than a page path.
To configure the Inline Cwiki Macro to resolve to correct targets, the format of the URL pattern should be set in the <strong><a href="https://github.numberfour.eu/NumberFour/asciispec/blob/master/docs/examples/config.adoc">Configuration File</a></strong> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">:cwiki_def: &lt;Path-URL-Pattern&gt;;&lt;ID-URL-Pattern&gt;;&lt;Icon&gt;;&lt;Title-Pattern&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&lt;Path-URL-Pattern&gt; </dt>
<dd>
<p>Used to generate the target URL when a path is specified - can contain the placeholder <code>{PATH}</code>.</p>
</dd>
<dt class="hdlist1">&lt;ID-URL-Pattern&gt; </dt>
<dd>
<p>Used to generate the link target URL when a page ID is specified - can contain the placeholder <code>{PAGE_ID}</code>.</p>
</dd>
<dt class="hdlist1">&lt;Icon&gt; </dt>
<dd>
<p>A path to an icon, e.g., <code>images/icons/confluence.png</code>.</p>
</dd>
<dt class="hdlist1">&lt;Title-Pattern&gt; </dt>
<dd>
<p>the pattern used to generate the link&#8217;s text - can contain the placeholder <code>{TITLE}</code>.</p>
</dd>
<dt class="hdlist1">Examples</dt>
</dl>
</div>
<div class="exampleblock">
<div class="content">
Documented at <strong>cwiki:BR/Continuous+Integration[title=Continuous Integration]</strong>&#8230;&#8203;
</div>
</div>
<div class="paragraph">
<p>Documented at <span class="image"><a class="image" href="https://confluence.(myorg).com/display/BR/Continuous+Integration"><img src="images/icons/jira.png" alt="Continuous Integration" title="Continuous Integration"></a></span><a href="https://confluence.(myorg).com/display/BR/Continuous+Integration" title="Continuous Integration">Confluence entry:Continuous Integration</a>&#8230;&#8203;</p>
</div>
<div class="exampleblock">
<div class="content">
See the <strong>cwiki:56885484["MacOS Devices wiki entry"]</strong> to connect to&#8230;&#8203;
</div>
</div>
<div class="paragraph">
<p>See the <span class="image"><a class="image" href="https://confluence.(myorg).com/pages/viewpage.action?pageId=56885484"><img src="images/icons/jira.png" alt="MacOS Devices wiki entry" title="MacOS Devices wiki entry"></a></span><a href="https://confluence.(myorg).com/pages/viewpage.action?pageId=56885484" title="MacOS Devices wiki entry">Confluence entry:MacOS Devices wiki entry</a> to connect to&#8230;&#8203;</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inline_math_code_math_code_macro"><a class="anchor" href="#_inline_math_code_math_code_macro"></a><a class="link" href="#_inline_math_code_math_code_macro">6. Inline Math (<code>math</code>) Macro</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>An inline macro for rendering LaTeX math expressions using MathML. The macro supports two syntaxes: The asciidoctor syntax and the LaTeX shorthand syntax.</p>
</div>
<div class="openblock language-asciidoc">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<p><code>math:EXPRESSION[]</code></p>
<div class="paragraph">
<p><code>$EXPRESSION$</code></p>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>EXPRESSION</strong> (required):
A LaTeX math expression that does not contain <code>$</code> characters. To use a <code>$</code> character within a math expression, it must be escaped using a backslash.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><mark>Attention:</mark> </dt>
<dd>
<p>The math macro must be specified in a single line.
Line breaks within this macro are not supported.</p>
</dd>
<dt class="hdlist1">Examples</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">Here is some text with famous inline
math formulae such as math:E=mc^2[]
and $C=2 \Pi r$.</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Here is some text with famous inline math formulae
such as <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo>=</mo><mi>m</mi><msup><mi>c</mi><mn>2</mn></msup></math>
and <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>C</mi><mo>=</mo><mn>2</mn><mi>Π</mi><mi>r</mi></math>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_configuration_2"><a class="anchor" href="#_configuration_2"></a><a class="link" href="#_configuration_2">6.1. Configuration</a></h3>
<div class="paragraph">
<p>No configuration required.</p>
</div>
<div class="paragraph">
<p>It is possible to use the <a href="#math-include">mathinclude::[]</a> macro to include custom LaTeX commands.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_math_block_documentation"><a class="anchor" href="#_math_block_documentation"></a><a class="link" href="#_math_block_documentation">7. Math Block Documentation</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The math block is used to write blocks of mathematical formulae.</p>
<div class="ulist">
<ul>
<li>
<p><strong>delimiter</strong>: Lines containing four plus symbols <code>++++</code> delimit the block. This is required if the block contains empty lines or nested formatting.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Usage</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">[math]
++++
Some formulae.
++++</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Example</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">[math]
++++
\sum_{i=1}^n i = {n(n+1)\over{2}}
++++</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_example"><a class="anchor" href="#_example"></a><a class="link" href="#_example">7.1. Example</a></h3>
<div class="paragraph">
<p>The above source will create the following output:</p>
</div>
<div class="openblock">
<div class="content">
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mi>i</mi><mo>=</mo><mfrac><mrow><mi>n</mi><mfenced close=")" open="("><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></mfenced></mrow><mn>2</mn></mfrac></math>
</div>
</div>
<div class="paragraph">
<p>It is possible to use the <a href="#_math_include_documentation">mathinclude::[]</a> macro to include custom LaTeX commands.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_math_include_documentation"><a class="anchor" href="#_math_include_documentation"></a><a class="link" href="#_math_include_documentation">8. Math Include Documentation</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Usage</dt>
<dd>
<p><code class="language-asciidoc">mathinclude::some/file/path.tex[]</code></p>
<div class="paragraph">
<p><code class="language-asciidoc">mathinclude::{find}some_other_file.tex[]</code></p>
</div>
</dd>
<dt class="hdlist1">Description</dt>
<dd>
<p>The <code>math include</code> can include <code>.tex</code> files containing custom LaTeX commands to be used in mathematical expressions. It is used in conjunction with <a href="#inline-math-macro.adoc">inline math</a> and <a href="#math-block.adoc">math block</a>. Multiple math include directives are appended, so it is possible to include several files. All math include directives are processed before the inline math expressions and the math blocks are processed.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The include path may contain the <a href="#special-variables"><code>{find}</code></a> variable. In either case, the processor will search the included file by looking at each parent folder of the indicated path.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">[math]
++++
Some maths that can use the LaTeX commands from the included file.
++++</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_inline_source_link_code_srclnk_code_macro"><a class="anchor" href="#_inline_source_link_code_srclnk_code_macro"></a><a class="link" href="#_inline_source_link_code_srclnk_code_macro">9. Inline Source Link (<code>srclnk</code>) Macro</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>An inline macro for generating hyperlinks from program elements such as types or methods to their source code in the code management system (i.e. GitHub).
This macro is used extensively by the Eclipse export wizard.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Usage: </dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre>srclnk:PQN[label]</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Attributes: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>PQN</strong> (required):
The <strong>p</strong>artially <strong>q</strong>ualified <strong>n</strong>ame.
Specifies the code element that is linked.
See <a href="pqn.html#PQN-def">PQN Definition</a> for the PQN&#8217;s syntax.</p>
</li>
<li>
<p><strong>label</strong> (optional):
The label of the link.
The label can start/end with markups e.g. for monospace.</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>In case the PQN or the label contain special characters, the AsciiDoc pass macro (<code>++</code>) can be used to escape PQN and/or label.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><mark>Attention:</mark> </dt>
<dd>
<p>The srclnk macro must be specified in a single line.
Line breaks within this macro are not supported.</p>
</dd>
<dt class="hdlist1">Examples</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Source</th>
<th class="tableblock halign-left valign-top">Output</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The following source link of the field accessor <code>size()</code> contains a complete PQN.
The link&#8217;s label is the methods signature.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-adoc" data-lang="adoc">srclnk:++stdlib_api:packages:
eu.myorg.stdlib.model.base.api:
src/project/model/collections/DataList:
DataList#&lt;sizes++[``++public get size(): int[]++``].</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The following source link of the field accessor <code>size()</code> contains a complete PQN.
The link&#8217;s label is the methods signature.</p>
</div>
<div class="paragraph">
<p><a href="https://github.myorg.com/api/blob/master/packages/eu.myorg.stdlib.model.base.api/src/project/model/collections/DataList.n4jsd#L250">public get sizes(): int[]</a>.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2 language-asciidoc">
<h3 id="_configuration_3"><a class="anchor" href="#_configuration_3"></a><a class="link" href="#_configuration_3">9.1. Configuration</a></h3>
<div class="paragraph">
<p>The following commands should be added to the <strong><a href="https://github.com/NumberFour/asciispec/blob/master/docs/examples/config.adoc">Configuration File</a></strong>:</p>
</div>
<div class="sect3">
<h4 id="_generated_documentation_directory"><a class="anchor" href="#_generated_documentation_directory"></a><a class="link" href="#_generated_documentation_directory">9.1.1. Generated Documentation Directory</a></h4>
<div class="paragraph">
<p>The <code>gen_adoc</code> variable specifies the directory which contains all generated documentation.
It has to be set to parse the <code>index.idx</code> file and the generated adoc files, as well.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Variable: </dt>
<dd>
<p><code>:gen_adoc: &lt;path&gt;</code></p>
</dd>
<dt class="hdlist1">Attributes: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>&lt;path&gt;</code> can be an absolute or relative path to the location of the generated adoc documentation directory.
Usually, its name is <code>gen_adoc</code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Example: </dt>
<dd>
<p><code>:gen_adoc: data/doc/gen_adoc</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_repository_location"><a class="anchor" href="#_repository_location"></a><a class="link" href="#_repository_location">9.1.2. Repository Location</a></h4>
<div class="paragraph">
<p>The repository location command specifies one repository, that is, its name, description and url.
The url is later used to generate complete urls which point to specific source code files of the repository.
The repository location command can be used multiple times to add multiple repository locations.
It must be used at least once.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Variable: </dt>
<dd>
<p><code>:srclnk_repo_def: &lt;repoName&gt;; &lt;description&gt;; &lt;urlPrefix&gt;</code></p>
</dd>
<dt class="hdlist1">Attributes: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><code>&lt;ID&gt;</code> is the unique identifier of the variable. It has no further semantics.</p>
</li>
<li>
<p><code>&lt;urlName&gt;</code> is the name of the repository. It can be referred from the PQN.</p>
</li>
<li>
<p><code>&lt;description&gt;</code> is a short description of the repository.</p>
</li>
<li>
<p><code>&lt;urlPrefix&gt;</code>
is a prefix of every url that navigates to a source code file within the repository.
It contains the placeholders <code>CMS_PATH</code> and <code>LINE_NO</code> which later will be replaced by a specific file and line number, respectively.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Example: </dt>
<dd>
<p><code>:srclnk_repo_def: stdlib_api; Standard lib API; https://github.com/NumberFour/asciispec/api/blob/master/{CMS_PATH}#L{LINE_NO}</code></p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extended_include_macro"><a class="anchor" href="#_extended_include_macro"></a><a class="link" href="#_extended_include_macro">10. Extended Include Macro</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Asciidoctor already provides an include macro which can still be used as usual.
However, if the include macro starts with specific variables after the double colon, a special handling of the include macro is activated.
As of now, only one specific variable exists, which is <code>{find}</code> as in <code>include::{find}myFile[]</code>.
Despite having some special handling when using specific variables, the usual behaviour of the built-in include is still preserved and all its attributes can still be used.
The following documentation focuses on the include macro with activated special handling.</p>
</div>
<div class="sect2 language-asciidoc">
<h3 id="__code_find_code_include_macro"><a class="anchor" href="#__code_find_code_include_macro"></a><a class="link" href="#__code_find_code_include_macro">10.1. <code>{find}</code> Include Macro</a></h3>
<div class="paragraph">
<p>The general idea of the <code>{find}</code> variable in an include macro is to search the given file and replace the variable with the path to the matched file.
In short, it behaves the same like the <code>{find}</code> variable (see: <a href="#_special_variables_in_asciispec">Special Variables - Find</a>), but enables two additional attributes which can be given in the squared brackets of the include macro.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Usage: </dt>
<dd>
<p><code class="language-asciidoc">include::{find}Target[Attributes]</code></p>
</dd>
<dt class="hdlist1">With: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Target</strong> (required):
The name of the file whose contents shall be included.
The file name can contain directories.
The extension <code>.adoc</code> can be omitted.</p>
</li>
<li>
<p><strong>Attributes</strong> (optional):</p>
<div class="ulist">
<ul>
<li>
<p><strong>FILE_ONCE</strong>: Includes the same file only once.</p>
</li>
<li>
<p><strong>TARGET_ONCE</strong> (alias <strong>ONCE</strong>): Includes the same target only once.</p>
</li>
<li>
<p>(all other include attributes such as 'lines')</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Warnings and Errors: </dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><strong>Error: File Not Found</strong>
Is issued in case the given target could not be found.</p>
</li>
<li>
<p><strong>Error: Circular Dependency</strong>
Is issued in case the included files depend on each other.
The last file which would create a circular dependency cycle is omitted.
This error is only issued if all include macros of the cycle use the <code>{find}</code> macro.</p>
</li>
<li>
<p><strong>Warning: Cant Find Circular Dependencies</strong>
Is issued in case one or more includes do not use the <code>{find}</code> macro.
Despite this issue, circular dependencies can still be found if all of the causing files are included using the <code>{find}</code> macro.</p>
</li>
<li>
<p><strong>Warning: Multiple File Matches</strong>
Is issued in case the given target is found at multiple locations.
The first match is chosen to be included.</p>
</li>
<li>
<p><strong>Warning: Inconsistent Use of Attributes</strong>
Is issued in case one of the attributes is used inconsistently.
The TARGET_ONCE attribute is supposed to be used at none or at all includes with the same target.
The FILE_ONCE attribute is supposed to be used at none or at all includes matching the same file.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Example: </dt>
<dd>
<p>The following line includes the file <code>file.adoc</code> in the subdir <code>dir</code>.
The location of that file is found by the <code>{find}</code> directive (see: <a href="#special-variables">[special-variables]</a>).
The attribute <code>ONCE</code> is the shorthand form for <code>TARGET_ONCE</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><code class="language-asciidoc">include::{find}dir/file.adoc[ONCE]</code></p>
</div>
</div>
<div class="sect2">
<h3 id="__code_api_code_include_macro"><a class="anchor" href="#__code_api_code_include_macro"></a><a class="link" href="#__code_api_code_include_macro">10.2. <code>{api}</code> Include Macro</a></h3>
<div class="paragraph">
<p>Includes generated adoc (of StdLib API) text which previously was generated by the exporter wizard.
Uses a PQN to reference the section which is to be included.
(tbd)</p>
</div>
</div>
<div class="sect2">
<h3 id="__code_src_code_include_macro"><a class="anchor" href="#__code_src_code_include_macro"></a><a class="link" href="#__code_src_code_include_macro">10.3. <code>{src}</code> Include Macro</a></h3>
<div class="paragraph">
<p>Includes source code (of StdLib API) from GitHub.
Uses a PQN to reference the source element (e.g. a method) which is to be included.
(tbd)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_generated_anchors"><a class="anchor" href="#_generated_anchors"></a><a class="link" href="#_generated_anchors">11. Generated Anchors</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The N4JS-N4 project <strong>eu.numberfour.n4js.jsdoc2spec</strong> generates adoc files for the documentation.
These adoc files are used to create an online reference and a standalone PDF file.
Moreover, the generated documentation is included into the stdlib API documentation.
This stdlib API document merges both generated and manual written documentation.</p>
</div>
<div class="paragraph">
<p>When including generated adoc content into manual written documents, we might want to reference sections that are located within the included contents.
Since these references rely on generated anchors used in the generated contents, an understanding of the structure of these anchors would be helpful.</p>
</div>
<div class="sect2 language-n4js">
<h3 id="_scope"><a class="anchor" href="#_scope"></a><a class="link" href="#_scope">11.1. Scope</a></h3>
<div class="paragraph">
<p>Anchors in the generated documentation are created for every property of a Class or Interface.
For example, for every property such as datafields or methods, a section is generated that can be referenced using a generated anchor.
The following excerpt shows the beginning of the generated contents of the module n4.lang.Comparable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-asciidoc" data-lang="asciidoc">= Module n4.lang.Comparable

== Interface Comparable

Any class that supports equality checks should implement this interface.
Comparable is not similar to Java's comparable. In N4JS, it only provides the equals method.



[[sec:spec_n4.lang.Comparable.Comparable.equals]]
[role=memberdoc]
=== ++Method equals++

[.language-n4js]
==== Signature
srclnk:++stdlib_api:packages:eu.numberfour.n4js.base.api:src/n4js/n4/lang/Comparable:Comparable#equals++[``++public abstract equals(other: any): boolean++``]

==== Description

returns true if the provided entity is equal to the current object by loose equality rules.
Other may be null, in that case, false is to be returned.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example above contains one generated anchor: <code>sec:spec_n4.lang.Comparable.Comparable.equals</code> which references the <code>equals</code> method in the interface <code>Comparable</code> in the module <code>n4.lang.Comparable</code>.</p>
</div>
</div>
<div class="sect2 language-n4js">
<h3 id="_general_structure"><a class="anchor" href="#_general_structure"></a><a class="link" href="#_general_structure">11.2. General Structure</a></h3>
<div class="paragraph">
<p>Generally, the structure of anchors is similar to the structure of PQNs.
However, the anchor structure is shorter and of defined length:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-plain" data-lang="plain">sec:spec_&lt;module&gt;&lt;type&gt;&lt;delimiter&gt;&lt;property&gt;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">module</dt>
<dd>
<p>specifies the name of a module</p>
</dd>
<dt class="hdlist1">type</dt>
<dd>
<p>specifies the name of a type, e.g. a class in the module</p>
</dd>
<dt class="hdlist1">delimiter</dt>
<dd>
<p>specifies the delimiter between type and property</p>
</dd>
<dt class="hdlist1">property</dt>
<dd>
<p>specifies the name of one property in the type</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The delimiters in anchors differ from the PQN definition.
PQNs use strings for example like <code>#</code> or <code>@&gt;</code> to access non static properties or static setters.
Since these strings contains characters which are permitted in adoc anchors, they are replaced as follows:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Delimiters</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">PQN</th>
<th class="tableblock halign-left valign-top">Anchor</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>non-static property</p>
</div>
<div class="paragraph">
<p>non-static getter</p>
</div>
<div class="paragraph">
<p>non-static setter</p>
</div>
<div class="paragraph">
<p>static property</p>
</div>
<div class="paragraph">
<p>static getter</p>
</div>
<div class="paragraph">
<p>static setter</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>#</p>
</div>
<div class="paragraph">
<p>#&lt;</p>
</div>
<div class="paragraph">
<p>#&gt;</p>
</div>
<div class="paragraph">
<p>@</p>
</div>
<div class="paragraph">
<p>@&lt;</p>
</div>
<div class="paragraph">
<p>@&gt;</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>.</p>
</div>
<div class="paragraph">
<p>.getter.</p>
</div>
<div class="paragraph">
<p>.setter.</p>
</div>
<div class="paragraph">
<p>.static.</p>
</div>
<div class="paragraph">
<p>.static.getter.</p>
</div>
<div class="paragraph">
<p>.static.setter.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">Example: </dt>
<dd>
<p><code>sec:spec_n4.lang.Identifiable.Identifiable.getter.id</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect2 language-n4js">
<h3 id="_special_characters"><a class="anchor" href="#_special_characters"></a><a class="link" href="#_special_characters">11.3. Special Characters</a></h3>
<div class="paragraph">
<p>Special characters occur in anchors since property names can contain any characters.
In addition, the iterator symbol, which is used for iterators, often contains the <code>#</code> symbol.
Consequently, anchors have to escape these characters.
This is done by replacing the special character with a colon and its corresponding unicode number.
For example, the property name <code>#iterator</code> is transformed to <code>:23iterator</code>.
The resulting complete anchor is: <code>sec:spec_n4.lang.Delegate.Delegate.:23iterator</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="PQN-def"><a class="anchor" href="#PQN-def"></a><a class="link" href="#PQN-def">12. Partially Qualified Names (PQNs)</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A partially qualified name is a string that uniquely identifies a source element.
The following types of source elements can be specified with a PQN:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>properties of types like classes or interfaces,</p>
</li>
<li>
<p>top level elements such as functions and variables.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In its longest form, a PQN structure can look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;repository&gt;:&lt;repository-path&gt;:&lt;project&gt;:&lt;src-folder&gt;/&lt;module&gt;:&lt;classifier&gt;#&lt;member&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, the goal of PQNs is to be able to identify source elements with very short names as long as they are still unique.
Therefore, if a source repository contains only one class with the name "PathSelector", then the string "PathSelector" should also be a PQN of that class.
If, however, a repository contains another class of the same name at another location, then it is necessary to add further information to the name, beginning at its end.
Let&#8217;s assume that two different modules contain a class with the name <code>PathSelector</code>.
In that case, it is necessary to include the module in the PQNs of the classes, e.g. <code>a/b/module1:PathSelector</code> and <code>a/c/module2:PathSelector</code>.</p>
</div>
<div class="paragraph">
<p>The syntax of a PQN is defined by the following BNF specifications:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-ebnf" data-lang="ebnf">PQN                   ::= (((((
						  REPOSITORY_NAME ":")?
						  REPOSITORY_PATH ":")?
						  PROJECT_NAME ":")?
						  SRC_FOLDER_SPEC "/")?
						  MODULE_SPEC ":")?
						  LINKABLE_ELEMENT_SPEC

LINKABLE_ELEMENT_SPEC ::= TOPLEVEL_ELEMENT_SPEC | LINKABLE_MEMBER_SPEC
TOPLEVEL_ELEMENT_SPEC ::= CLASSIFIER_NAME | FUNCTION_NAME
LINKABLE_MEMBER_SPEC  ::= ((CLASSIFIER_NAME)? DELIMITER)? MEMBER_NAME
DELIMITER             ::= "#" | "#&lt;" | "#&gt;" | "@" | "@&lt;" | "@&gt;"

REPOSITORY_PATH       ::= PATH
SRC_FOLDER_SPEC       ::= PATH
MODULE_SPEC           ::= PATH

PATH                  ::= PATH_ELEMENT ( "/" PATH_ELEMENT )*
PATH_ELEMENT          ::= CHAR*

REPOSITORY_NAME       ::= CHAR*
PROJECT_NAME          ::= CHAR*
CLASSIFIER_NAME       ::= CHAR*
MEMBER_NAME           ::= CHAR*</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the different versions of the DELIMITER to differentiate between static and non-static members, and also to indicate getters and setters.
To identify non-static data fields or methods of a class (or interface), a <code>#</code> is used.
However, N4JS allows for multiple members to have the same name, e.g. there can be a static member with the same name as an instance member, or a getter/setter pair sharing the same name.
In such cases, the member is differentiated using the following DELIMITERs: <code>pass:[#&lt;+</code> indicates a getter, <code>#&gt;</code> indicates a setter, <code>@</code> indicates a static member, <code>@&lt;</code> indicates a static getter, and <code>@&gt;</code> indicates a static setter.</p>
</div>
<div class="paragraph">
<p>Note that the PQN is strictly structured from right to left.
This means that both, DELIMITER and CLASSIFIER_NAME, must be specified when the MODULE_SPEC is specified, although the BNF indicates otherwise.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_special_variables_in_asciispec"><a class="anchor" href="#_special_variables_in_asciispec"></a><a class="link" href="#_special_variables_in_asciispec">13. Special Variables in Asciispec</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some macros of Asciispec implement special variables which can be used by AsciiDoc authors.
These special variables are readonly.</p>
</div>
<div class="sect2 language-asciidoc">
<h3 id="_the_code_find_code_variable"><a class="anchor" href="#_the_code_find_code_variable"></a><a class="link" href="#_the_code_find_code_variable">13.1. The <code>{find}</code> Variable</a></h3>
<div class="sect3">
<h4 id="_introduction"><a class="anchor" href="#_introduction"></a><a class="link" href="#_introduction">13.1.1. Introduction</a></h4>
<div class="paragraph">
<p>There exist several use cases for adoc documents.
They are used to generate html pdf files, or they are written manually.
Moreover, some documents consist of more than one adoc file and thus rely on including other adoc documents.
In the latter case, also the included documents can be translated separately to generate a PDF for a single chapter only for example.</p>
</div>
<div class="paragraph">
<p>Several macros such as include, image, cross reference, or other custom macros rely on paths to work appropriately.
Since we have different use cases mentioned above, we need to specify paths relative to the including document.
As an example, the adoc file <code>doc.adoc</code> specifies the location of the bibliography using the directive <code class="language-asciidoc">:bib-file: ../biblio.bib</code>.
This path can not always be found when the doc.adoc file is translated both on its own and included from onother files.</p>
</div>
<div class="paragraph">
<p>The <code>{find}</code> variable provides the means to specify files relative to the adoc file no matter from where this adoc file was included.</p>
</div>
</div>
<div class="sect3">
<h4 id="_usage"><a class="anchor" href="#_usage"></a><a class="link" href="#_usage">13.1.2. Usage</a></h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax: </dt>
<dd>
<p><code class="language-asciidoc">{find}Target</code></p>
</dd>
<dt class="hdlist1">Target: </dt>
<dd>
<p>an arbitrary file which can include a path</p>
</dd>
<dt class="hdlist1">Example 1: </dt>
<dd>
<p><code class="language-asciidoc">:myImageVar: {find}path/to/picture.png</code></p>
</dd>
<dt class="hdlist1">Example 2: </dt>
<dd>
<p><code class="language-asciidoc">image::{find}path/to/picture.png[]</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_semantics"><a class="anchor" href="#_semantics"></a><a class="link" href="#_semantics">13.1.3. Semantics</a></h4>
<div class="paragraph">
<p>During the preprocessing of the document, all find variables are replaced by a concrete path to the targeted file.
This path is relative to the directory of the base/master file.
In order to replace the target, a search is performed which can have three outcomes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No file was found, which results in an error.</p>
</li>
<li>
<p>One file was found.</p>
</li>
<li>
<p>Multiple files were found, which results in a warning.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/logo.png" alt="logo">
</div>
</div>
<div class="paragraph">
<p>The search is performed in several directories.
It starts in the directory of the including file and walks up the folder structure.
In each of these directories, the target file is searched.
All matches are collected and the first is returned.
The search algorithm never descends into a subfolder (except if the target file specifies subfolders).</p>
</div>
</div>
<div class="sect3">
<h4 id="_warnings_and_errors"><a class="anchor" href="#_warnings_and_errors"></a><a class="link" href="#_warnings_and_errors">13.1.4. Warnings and Errors</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Error: File Not Found</strong>
Is issued in case the given target could not be found.</p>
</li>
<li>
<p><strong>Warning: Multiple File Matches</strong>
Is issued in case the given target is found at multiple locations.
The first match is chosen to be included.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_using_code_find_code_on_github"><a class="anchor" href="#_using_code_find_code_on_github"></a><a class="link" href="#_using_code_find_code_on_github">13.1.5. Using <code>{find}</code> on GitHub</a></h4>
<div class="paragraph">
<p>In case the an adoc file should also be able to be viewed on GitHub directly, the <code>{find}</code> variables can not be resolved by GitHub.
Consequently, the adoc file might not be displayed correctly, especially with respect to images included via <code>image::</code>{find}<code>picture.png[]</code>.</p>
</div>
<div class="paragraph">
<p>As a solution, the adoc file should define the find variable to an empty string using the following line:</p>
</div>
<div class="paragraph">
<p><code class="language-asciidoc">:find:</code></p>
</div>
<div class="paragraph">
<p>Using the line above, the image include resolves to <code>image::picture.png[]</code>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliography_2"><a class="anchor" href="#_bibliography_2"></a><a class="link" href="#_bibliography_2">Appendix A: Bibliography</a></h2>
<div class="sectionbody">
<div class="openblock bibliography">
<div class="content">

</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-01-25 11:39:51 CET
</div>
</div>
<div class="social">

<ul class="fa-ul">
<li><a href="https://github.com/NumberFour/asciispec"><i class="fa-li fa fa-github"></i>AsciiSpec</a></li>

</ul>
</div>
<script>
// Toggle the table of contents
$( "button#tocbutton" ).click(function() {
  if ($("#tocbutton").css('left') == '25px') {
    $( "#tocbutton" ).animate({left: '270px'},"slow");
    $( "#toc.toc2" ).animate({left: '0'},"slow");
    $( "#menubar" ).animate({left: '215px'},"slow");
    $( "#header, #content, #footnotes, #footer" ).animate({left: '260px'},"slow");
    $( "body.toc2").css("max-width", "75%");
    $( "#menubar" ).css("max-width", "80%");
}
  else {
    $( "#menubar" ).animate({left: '10px'},"slow");
    $( "#tocbutton" ).animate({left: '25px'},"slow");
    $( "#toc.toc2" ).animate({left: '-260px'},"slow");
    $( "#header, #content, #footnotes, #footer" ).animate({left: '40px'},"slow");
    $( "body.toc2").css("max-width", "90%");
}
});
</script>

<script>

// ########## Initialise mobile menu #############

  $(function(){
    $('#menu').slicknav();
  });
</script>
<script type="text/javascript">

// ########## Back-to-top Button #############

$('body').prepend('<a href="#" class="back-to-top">Back to Top</a>');
var amountScrolled = 300;
$(window).scroll(function() {
if ( $(window).scrollTop() > amountScrolled ) {
	$('a.back-to-top').fadeIn('slow');
} else {
	$('a.back-to-top').fadeOut('slow');
}
});
$('a.back-to-top, a.simple-back-to-top').click(function() {
$('html, body').animate({
	scrollTop: 0
}, 700);
return false;
});
</script>
</body>
</html>